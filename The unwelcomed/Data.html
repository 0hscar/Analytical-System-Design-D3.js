<!doctype html>
<html>	
	<head>
		<meta charset="UTF-8">
		<title>The Unwelcomed</title>	
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <style></style>	
	</head>			
	<body>	
	<script>

let geoFile_raw = d3.json("https://raw.githubusercontent.com/mohamadwaked/classico/master/world_map_ar.geojson");
//console.log(geoFile);
//geoFile_raw.then(data => console.log(data));
//geoFile_raw.then(data => console.log(data.features[10].properties.name));			

let countriesFile_raw = d3.csv("https://raw.githubusercontent.com/mohamadwaked/classico/master/un_regions.csv");
//console.log(countriesFile_raw);
//countriesFile_raw.then(data => console.log(data));
//countriesFile_raw.then(data => console.log(data[10].HDI_2017));

let dataFile_raw = d3.csv("https://raw.githubusercontent.com/mohamadwaked/classico/master/p0017_dataset.csv");
console.log(dataFile_raw);
dataFile_raw.then(dataFile_raw => console.log(dataFile_raw));
dataFile_raw.then(dataFile_raw => console.log(dataFile_raw[10].collapsed_cause));


	// const geoFile = "https://raw.githubusercontent.com/mohamadwaked/classico/master/world_map_ar.geojson";
	// const countriesFile = "https://raw.githubusercontent.com/mohamadwaked/classico/master/un_regions.csv";
	// const dataFile = "https://raw.githubusercontent.com/mohamadwaked/classico/master/p0017_dataset.csv";

	// var map = {}; 
	// var dataset = {};

	// Promise.all([

	// 	d3.json(geoFile), 
	// 	d3.csv(countriesFile, function(row){
	// 		return {
	// 			population: +row.Pop_2016,
	// 			area: +row.Area_km2,
    //       	hdi: +row.HDI_2017,
    //       	code: row.Code
	// 		}
	// 	}),
	// 	d3.csv(dataFile, function(death){
	// 		return {
	// 			serial: +death.serial,
	// 			region: death.collapsed_region,
	// 			cause: death.cause_of_death,
	// 			collap_cause: death.collapsed_cause,
	// 			coord: [+death.lon, +death.lat],
	// 			death: +death.total_death_missing,
	// 			date: parseTime(death.date),
	// 			random: +death.random
	// 		}
	// 	})
	// ])
	// .then(function([shapes, countries, data]){
	// 	map.features = shapes.features; 	
	// 	dataset = data;
	// 	map.features.forEach(function(d) { 
	// 		const entry = countries.filter(t => t.code == d.id)[0];
	// 		if(entry) {
    //             d.properties.population = entry.population;
    //             d.properties.hdi = entry.hdi;
	// 			   d.properties.area = entry.area;
	// 			   d.properties.density = entry.population / entry.area; 
	// 		}
	// 	})
	
	// 	console.log(dataset)
	// 	console.log(map.features)
	// 	console.log(map.features[10].properties.name)
		
	// });

</script>			
</body>
</html>